<!DOCTYPE html>
<html lang="en">

<head>
    <title>Coding Challenge</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        /* Set height of the grid so .sidenav can be 100% (adjust if needed) */

        .row.content {
            height: 1500px
        }

        /* Set gray background color and 100% height */

        .sidenav {
            background-color: #f1f1f1;
            height: 100%;
        }

        /* Set black background color, white text and some padding */

        footer {
            background-color: #555;
            color: white;
            padding: 15px;
        }

        header {
            background-color: #555;
            color: white;
            padding: 15px;
        }

        /* On small screens, set height to 'auto' for sidenav and grid */

        @media screen and (max-width: 767px) {
            .sidenav {
                height: auto;
                padding: 15px;
            }
            .row.content {
                height: auto;
            }
        }

        .foot-img {
            margin: 10px;
            width: 50%;
        }
    </style>
    <script>
        var table, tableOld, tableHeader, tableHeaderOld, tableFooter, tableFooterOld, pageHeader, pageHeaderOld, footerImageAddress, footerImageAddressOld;

        window.setInterval(function () {


            if (tableHeader != tableHeaderOld) {
                //fill the tableHeader
                if (!Array.isArray(tableHeader)) {
                    console.log("this object needs to be an array!");
                } else {
                    $("#lessonTable thead").empty();
                    var markup = "<tr>";
                    tableHeader.forEach(function (element) {
                        markup += "<th>" + element;
                        markup += "</th>";
                    });
                    markup += "/<tr>";
                    $("#lessonTable thead").append(markup);
                    tableHeaderOld = tableHeader;
                }

            }

            if (tableFooter != tableFooterOld) {
                //fill the tableFooter
                if (!Array.isArray(tableFooter)) {
                    console.log("this object needs to be an array!");
                } else {
                    $("#lessonTable tfoot").empty();
                    var markup = "<tr>";
                    tableFooter.forEach(function (element) {
                        markup += "<th>" + element;
                        markup += "</th>";
                    });
                    markup += "/<tr>";
                    $("#lessonTable tfoot").append(markup);
                    tableFooterOld = tableFooter;
                }

            }

            if (table != tableOld) {
                //fill the table

                if (!Array.isArray(table)) {
                    console.log("this object needs to be an array!");
                } else {
                    $("#lessonTable tbody").empty();
                    var markup = "";
                    table.forEach(function (element) {
                        markup = "<tr>";
                        for (var propertyName in element) {
                            markup += "<td>" + element[propertyName];
                            markup += "</td>";
                        }

                        markup += "/<tr>";
                        $("#lessonTable tbody").append(markup);
                    });

                    tableOld = table;
                }
            }

            if (pageHeader != pageHeaderOld) {
                //fill the pageHeader
                $("#pageHeader").html(pageHeader);
                pageHeaderOld = pageHeader;
            }

            if (footerImageAddress != footerImageAddressOld) {
                $(".foot-img").attr("src", footerImageAddress);
                footerImageAddressOld = footerImageAddress;
            }
        }, 500);


        function challenge(num) {

            console.log("%c********************************************************", 'color: green')
            switch (num) {
                case 1:

                    console.log("There is a preset variable called 'pageHeader', its type is 'string'")
                    console.log("Set this variable to change the web page header text")
                    break;
                case 2:
                    console.log("Create a table of data on the web site.")
                    console.log("There is a preset variable called 'tableHeader', its type is an array (list) or strings")
                    console.log("Set this variable to an array of strings to populate the table header")
                    break;
                case 3:
                    console.log("Create data for the table")
                    console.log("There is a preset variable called 'table', its type is array of objects like [{name:\"test\",age:5, etc, etc}]")
                    console.log("Set this variable to an array of objects with properties matching the header")
                    break;
                case 4:
                    console.log("Create a footer for the table")
                    console.log("There is a preset variable called 'tableFooter', its type is an array (list) or strings")
                    console.log("Set this variable to contain a count of all the letters in string properties, and a sum of any number properties in the 'table' array")
                    break;
                case 5:
                    console.log("Add a crazy image to the bottom of the web site!")
                    console.log("There is a preset variable called 'footerImageAddress',  its type is 'string'")
                    console.log("Set this variable to contain a web address to an image you have googled")
                    console.log("eg: https://kubrick.htvapps.com/htv-prod-media.s3.amazonaws.com/images/survival-1481829022.jpg")
                    break;
                default:
                    console.error("Sorry, no challenge exists with that number")
            }
            console.log("%c********************************************************", 'color: green')
        }
        console.log("%c********************************************************", 'color: red')

        console.log("%cThere are a number of JavaScript coding challenges on this page", 'font-weight: bold;')
        console.log("To access them, type  challenge(x), where x is a number (Start at 1)")

        console.log("%c********************************************************", 'color: red')
    </script>
</head>

<body>
    <header class="container-fluid">
        <p>JavaScript Challenge</p>
    </header>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <h4 id="pageHeader">Page Header</h4>
                <div id="table-container">
                    <table class="table  table-bordered table-hover" id="lessonTable">
                        <thead class="thead-light"></thead>
                        <tbody></tbody>
                        <tfoot></tfoot>
                    </table>
                </div>
                <img src="" class="foot-img" />
            </div>
        </div>
    </div>
</body>

</html>
